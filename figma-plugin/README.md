# Pandatalk Figma 集成插件

这是一个与 Pandatalk 聊天应用集成的 Figma 插件，允许用户直接在 Figma 中分享设计到聊天应用中。

## 🚀 功能特性

- **设计分享**: 选择 Figma 中的设计元素并分享到聊天应用
- **预览生成**: 自动生成设计预览图
- **元素信息提取**: 提取选中元素的详细信息（位置、尺寸、颜色、文本等）
- **自定义消息**: 添加分享时的说明文字
- **实时状态**: 显示操作状态和结果

## 📦 安装方法

### 方法 1: 开发模式安装

1. 在 Figma 中，点击菜单栏的 **Plugins** → **Development** → **New Plugin**
2. 选择 **Import plugin from manifest**
3. 选择本插件目录中的 `manifest.json` 文件
4. 插件将出现在开发插件列表中

### 方法 2: 发布后安装

1. 将插件发布到 Figma 社区
2. 在 Figma 中搜索 "Pandatalk Integration"
3. 点击安装即可

## 🎯 使用方法

### 基本操作流程

1. **启动插件**: 在 Figma 中选择 **Plugins** → **Pandatalk Integration**
2. **选择元素**: 在画布中选择要分享的设计元素
3. **获取信息**: 点击插件界面中的 "获取选中元素" 按钮
4. **添加消息**: 在文本框中输入分享说明（可选）
5. **分享设计**: 点击 "分享到 Pandatalk" 按钮

### 支持的元素类型

- **文本元素**: 提取文本内容、字体、字号等信息
- **形状元素**: 提取位置、尺寸、颜色等信息
- **框架和组件**: 提取基本属性和子元素信息
- **图片元素**: 生成预览图

## 🔧 技术实现

### 插件架构

```
figma-plugin/
├── manifest.json    # 插件配置文件
├── code.js         # 主要逻辑代码
├── ui.html         # 用户界面
└── README.md       # 说明文档
```

### 核心功能

- **设计数据提取**: 使用 Figma API 提取选中元素的信息
- **预览图生成**: 通过 `exportAsync` 生成 PNG 预览图
- **消息通信**: 使用 `postMessage` 在插件代码和 UI 之间通信
- **错误处理**: 完善的错误处理和用户反馈

### API 集成

插件目前使用模拟的分享功能，要集成实际的 Pandatalk API，需要：

1. 在 `code.js` 中实现实际的 HTTP 请求
2. 配置正确的 API 端点和认证信息
3. 处理网络错误和重试逻辑

## 🎨 自定义配置

### 修改插件外观

编辑 `ui.html` 文件中的 CSS 样式：
- 修改颜色主题
- 调整布局和间距
- 添加动画效果

### 扩展功能

在 `code.js` 中添加新功能：
- 支持更多元素类型
- 添加批量分享功能
- 集成版本控制

## 🚨 注意事项

- 插件需要网络访问权限才能与聊天应用通信
- 大型设计文件可能影响性能
- 某些私有元素可能无法提取完整信息

## 🔮 未来计划

- [ ] 支持团队协作功能
- [ ] 添加设计评论系统
- [ ] 集成设计版本历史
- [ ] 支持更多文件格式
- [ ] 添加设计模板库

## 📞 技术支持

如果遇到问题或有建议，请：

1. 检查 Figma 控制台的错误信息
2. 确认网络连接正常
3. 验证插件权限设置
4. 联系开发团队

## 📄 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

---

**Pandatalk Integration** - 让设计分享更简单！ 🎨✨

